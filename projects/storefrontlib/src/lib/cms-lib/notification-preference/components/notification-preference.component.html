<div class="container">
  <div class="cx-notification-preference-header">
    <h3>{{ title$ | async }}</h3>
  </div>

  <div class="cx-body">
    <div>
      <label> Select your preferred notification channels</label>
    </div>
    <div
      class="form-check"
      *ngIf="
        (basicNotificationPreferenceList$
          | async) as basicNotificationPreferenceList;
        else loading
      "
    >
      <ul
        class="cx-ul"
        *ngFor="let preference of basicNotificationPreferenceList.preferences"
      >
        <ng-container *ngIf="preference.value" class="cx-name">
          <li>
            <div class="form-toggle">
              <input
                class="form-toggle-input"
                role="switch"
                type="checkbox"
                [checked]="preference.enabled"
              />

              <label
                class="form-toggle__switch"
                (click)="updateNotificationPreferences(preference)"
              >
              </label>
            </div>
            <span class="cx-notification-preference-span"
              >{{ preference.channel }}: {{ preference.value }}</span
            >
          </li>
        </ng-container>
      </ul>
    </div>
    <ng-template #loading>
      <div class="cx-spinner">
        <cx-spinner></cx-spinner>
      </div>
    </ng-template>
  </div>
</div>
