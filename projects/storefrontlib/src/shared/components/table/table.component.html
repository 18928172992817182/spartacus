<table *ngIf="dataset?.structure as structure">
  <thead *ngIf="!structure.options?.hideHeader">
    <tr>
      <th scope="col" *ngFor="let field of structure.fields" [class]="field">
        <ng-template
          [cxOutlet]="getHeaderOutletRef(field)"
          [cxOutletContext]="getHeaderOutletContext(field)"
        >
          {{ field }}
        </ng-template>
      </th>
    </tr>
  </thead>

  <tr *ngFor="let item of dataset.data">
    <td *ngFor="let field of structure.fields; let i = index" [class]="field">
      <ng-template
        [cxOutlet]="getDataOutletRef(field)"
        [cxOutletContext]="getDataOutletContext(field, item)"
      >
        {{ item[field] }}
      </ng-template>
    </td>
  </tr>
</table>
