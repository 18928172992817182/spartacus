<div class="form-group">
  <div class="col-md-8">
    <label>{{ 'notificationPreference.message' | cxTranslate }}</label>
  </div>
  <ng-container *ngIf="(preferences$ | async) as preferences">
    <ng-container *ngIf="preferences.length > 0; else loading">
      <ul class="cx-np-list">
        <li *ngFor="let preference of preferences">
          <ng-container *ngIf="preference.visible">
            <div class="form-check">
              <label class="form-checkbox cx-np-label">
                <input
                  class="form-check-input cx-np-checkbox"
                  role="checkbox"
                  type="checkbox"
                  [checked]="preference.enabled"
                  (change)="updatePreference(preference)"
                  [disabled]="
                    (getNotificationPreferencesloading$ | async) ||
                    (updateNotificationPreferencesLoading$ | async)
                  "
                />
                <span class="cx-np-text"
                  >{{
                    'notificationPreference.' + preference.channel | cxTranslate
                  }}
                  {{ preference.value }}
                </span>
              </label>
            </div>
          </ng-container>
        </li>
      </ul>
    </ng-container>
  </ng-container>
  <div class="col-md-8">
    <label
      ><b>{{ 'notificationPreference.note' | cxTranslate }}</b
      >{{ 'notificationPreference.noteMessage' | cxTranslate }}
    </label>
  </div>
  <ng-template #loading>
    <div class="cx-spinner">
      <cx-spinner></cx-spinner>
    </div>
  </ng-template>
</div>
