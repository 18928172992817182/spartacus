<div
  class="cx-account-modal"
  *ngIf="userToken$ | async as userToken"
  [cxFocus]="focusConfig"
  (esc)="dismissModal('Escape clicked')"
>
  <div class="cx-dialog-content">
    <div class="cx-dialog-header">
      <h3>
        {{ 'closeAccount.confirmAccountClosure' | cxTranslate }}
      </h3>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="dismissModal()"
      >
        <span aria-hidden="true">
          <cx-icon [type]="iconTypes.CLOSE"></cx-icon>
        </span>
      </button>
    </div>

    <div *ngIf="isLoading$ | async; else loaded">
      <div class="cx-spinner">
        <cx-spinner> </cx-spinner>
      </div>
    </div>

    <ng-template #loaded>
      <div class="cx-dialog-body">
        <div class="cx-row">
          <p class="cx-confirmation">
            {{ 'closeAccount.confirmAccountClosureMessage' | cxTranslate }}
          </p>
        </div>
        <div class="cx-row">
          <div class="cx-btn-group">
            <button class="btn btn-primary" (click)="closeAccount()">
              {{ 'closeAccount.closeMyAccount' | cxTranslate }}
            </button>
            <button
              (click)="dismissModal()"
              class="btn btn-block btn-secondary"
            >
              {{ 'common.cancel' | cxTranslate }}
            </button>
          </div>
        </div>
      </div>
    </ng-template>
  </div>
</div>
