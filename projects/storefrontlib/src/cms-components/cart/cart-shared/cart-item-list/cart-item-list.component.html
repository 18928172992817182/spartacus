<div *ngIf="hasHeader" class="d-none d-md-block d-lg-block d-xl-block">
  <div class="cx-item-list-header row">
    <div class="cx-item-list-desc col-md-5 col-lg-5 col-xl-6">
      {{ 'cartItems.description' | cxTranslate }}
    </div>
    <div class="cx-item-list-price col-md-3 col-lg-2 col-xl-2">
      {{ 'cartItems.itemPrice' | cxTranslate }}
    </div>
    <div class="cx-item-list-qty col-md-2 col-lg-3 col-xl-2">
      {{ 'cartItems.quantity' | cxTranslate }}
    </div>

    <ng-template
      *ngIf="this.featureConfigService.isLevel('1.4'); else originalTemplate"
    >
      <div
        *ngIf="showTotal"
        class="cx-item-list-total col-md-2 col-lg-2 col-xl-2"
      >
        {{ 'cartItems.total' | cxTranslate }}
      </div>
      <div class="cx-item-list-total col-md-2 col-lg-2 col-xl-2">
        {{ 'cartItems.stock' | cxTranslate }}
      </div>
    </ng-template>
    <ng-template #originalTemplate>
      <div class="cx-item-list-total col-md-2 col-lg-2 col-xl-2">
        {{ 'cartItems.total' | cxTranslate }}
      </div>
    </ng-template>
  </div>
</div>

<div [formGroup]="form">
  <div class="cx-item-list-row" *ngFor="let item of items">
    <div class="cx-item-list-items">
      <cx-cart-item
        [parent]="form.controls[item.product.code]"
        [item]="item"
        [potentialProductPromotions]="
          getPotentialProductPromotionsForItem(item)
        "
        [isReadOnly]="isReadOnly"
        (remove)="removeEntry($event)"
        [cartIsLoading]="cartIsLoading"
        (update)="updateEntry($event)"
        [optionalButton]="optionalButton"
        (optionalAction)="doOtionalAction($event)"
      >
      </cx-cart-item>
    </div>
  </div>
</div>
