<ng-container *ngIf="dialogMode$ | async as dialogMode">
  <button
    *ngIf="!isInline(dialogMode)"
    #dialogTrigger
    class="btn btn-action btn-block filter"
    [class.active]="facetList?.activeFacets?.length > 0"
    (click)="toggleDialog()"
  >
    <cx-icon [type]="iconTypes.FILTER"></cx-icon>
    {{ 'productList.filterBy.label' | cxTranslate }}
  </button>

  <cx-active-facets [facetList]="facetList"></cx-active-facets>

  <cx-facet-dialog
    *ngIf="isInline(dialogMode) || activeDialog || facetList?.activeFacets"
    [class.active]="activeDialog"
    [dialogMode]="dialogMode"
    (load)="updateFacetList($event)"
    (close)="toggleDialog()"
  ></cx-facet-dialog>
</ng-container>
