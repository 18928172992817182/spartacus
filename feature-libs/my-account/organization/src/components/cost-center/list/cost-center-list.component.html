<!-- [attr.depth]="depth$ | async" -->
<cx-split-view>
  <h3>
    {{ 'costCenterList.header' | cxTranslate }}
    <div class="tools">
      <a class="link" routerLink="create" routerLinkActive="disabled">
        <cx-icon type="EXPAND"></cx-icon>
      </a>
    </div>
  </h3>
  <cx-table [dataset]="dataTable$ | async" (sortEvent)="sort($event)">
  </cx-table>
</cx-split-view>

<!-- TODO: [cxSkipStacking]="true" -->
<ng-template cxOutletRef="table.costCenter.data.name" let-model>
  <a
    [routerLink]="{ cxRoute: 'costCenterDetails', params: model } | cxUrl"
    routerLinkActive="active"
  >
    <cx-icon
      class="active-state"
      type="ACTIVE"
      [class.inactive]="!model.active"
    ></cx-icon>
    <span class="text">{{ model.name }}</span>
    <cx-icon type="CARET_RIGHT" class="open"></cx-icon>
  </a>
</ng-template>

<!-- TODO: [cxSkipStacking]="true" -->
<ng-template cxOutletRef="table.costCenter.data.unit" let-model>
  <a [routerLink]="{ cxRoute: 'orgUnitDetails', params: model.unit } | cxUrl">
    {{ model.unit?.name }}
  </a>
</ng-template>

<router-outlet></router-outlet>

<!-- <cx-interactive-table
  [data$]="data$"
  [header]="'costCentersList.costCenterManagement' | cxTranslate"
  [sortLabels]="{
    byUnitName: 'costCentersList.sorting.byUnitName' | cxTranslate,
    byName: 'costCentersList.sorting.byName' | cxTranslate,
    byCode: 'costCentersList.sorting.byCode' | cxTranslate
  }"
  [columns]="[
    {
      key: 'code',
      value: 'costCentersList.code' | cxTranslate,
      cxRoute: 'costCenterDetails'
    },
    { key: 'name', value: 'costCentersList.name' | cxTranslate },
    {
      key: 'currency',
      value: 'costCentersList.currency' | cxTranslate
    },
    {
      key: 'parentUnit',
      value: 'costCentersList.parentUnit' | cxTranslate,
      cxRoute: 'orgUnitDetails'
    }
  ]"
  (pageChange)="pageChange($event)"
  (changeSortCode)="changeSortCode($event)"
>
  <div class="col-md-12 col-lg-6">
    <div class="col-md-12 col-lg-6 float-right">
      <a
        [routerLink]="{ cxRoute: 'costCenterCreate' } | cxUrl"
        class="btn btn-block btn-action"
      >
        {{ 'costCentersList.create' | cxTranslate }}
      </a>
    </div>
  </div>
</cx-interactive-table> -->
