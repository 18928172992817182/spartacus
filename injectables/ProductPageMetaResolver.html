<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>storefrontapp documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">storefrontapp documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li>ProductPageMetaResolver</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/core/src/product/services/product-page-meta.resolver.ts</code>
        </p>

            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Resolves the page data for the Product Detail Page
based on the <code>PageType.PRODUCT_PAGE</code>.</p>
<p>The page title, heading, description, breadcrumbs and
first GALLERY image are resolved if available in the data.</p>

            </p>

            <p class="comment">
                <h3>Extends</h3>
            </p>
            <p class="comment">
                        <code><a href="../classes/PageMetaResolver.html" target="_self" >PageMetaResolver</a></code>
            </p>


            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#product$">product$</a>
                            </li>
                            <li>
                                <a href="#pageTemplate">pageTemplate</a>
                            </li>
                            <li>
                                <a href="#pageType">pageType</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#resolveBreadcrumbs">resolveBreadcrumbs</a>
                            </li>
                            <li>
                                <a href="#resolveDescription">resolveDescription</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#resolveFirstCategory">resolveFirstCategory</a>
                            </li>
                            <li>
                                <a href="#resolveHeading">resolveHeading</a>
                            </li>
                            <li>
                                <a href="#resolveImage">resolveImage</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#resolveManufacturer">resolveManufacturer</a>
                            </li>
                            <li>
                                <a href="#resolveRobots">resolveRobots</a>
                            </li>
                            <li>
                                <a href="#resolveTitle">resolveTitle</a>
                            </li>
                            <li>
                                <a href="#getPriority">getPriority</a>
                            </li>
                            <li>
                                <a href="#getScore">getScore</a>
                            </li>
                            <li>
                                <a href="#hasMatch">hasMatch</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(routingService: <a href="../injectables/RoutingService.html">RoutingService</a>, productService: <a href="../injectables/ProductService.html">ProductService</a>, translation: <a href="../classes/TranslationService.html">TranslationService</a>, basePageMetaResolver?: <a href="../injectables/BasePageMetaResolver.html">BasePageMetaResolver</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:64</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>routingService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/RoutingService.html" target="_self" >RoutingService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>productService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ProductService.html" target="_self" >ProductService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>translation</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/TranslationService.html" target="_self" >TranslationService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>basePageMetaResolver</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/BasePageMetaResolver.html" target="_self" >BasePageMetaResolver</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            Yes
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveBreadcrumbs"></a>
                    <span class="name">
                        <b>
                            resolveBreadcrumbs
                        </b>
                        <a href="#resolveBreadcrumbs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resolveBreadcrumbs()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="126"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:126</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Resolves breadcrumbs for the Product Detail Page. The breadcrumbs are driven by
a static home page crumb and a crumb for each category.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;BreadcrumbMeta[]&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveDescription"></a>
                    <span class="name">
                        <b>
                            resolveDescription
                        </b>
                        <a href="#resolveDescription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resolveDescription()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="112"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:112</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Resolves the page description for the Product Detail Page. The description
is based on the <code>product.summary</code>.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;string&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveFirstCategory"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Protected</span>
                            resolveFirstCategory
                        </b>
                        <a href="#resolveFirstCategory"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>resolveFirstCategory(product: <a href="../interfaces/Product.html">Product</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="159"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:159</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>product</td>
                                    <td>
                                                <code><a href="../interfaces/Product.html" target="_self" >Product</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveHeading"></a>
                    <span class="name">
                        <b>
                            resolveHeading
                        </b>
                        <a href="#resolveHeading"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resolveHeading()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="80"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:80</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Resolves the page heading for the Product Detail Page.
The page heading is used in the UI (<code>&lt;h1&gt;</code>), where as the page
title is used by the browser and crawlers.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;string&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveImage"></a>
                    <span class="name">
                        <b>
                            resolveImage
                        </b>
                        <a href="#resolveImage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resolveImage()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="149"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:149</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Resolves the main page image for the Product Detail Page. The product image
is based on the PRIMARY product image. The zoom format is used by default.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;string&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveManufacturer"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Protected</span>
                            resolveManufacturer
                        </b>
                        <a href="#resolveManufacturer"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>resolveManufacturer(product: <a href="../interfaces/Product.html">Product</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="169"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:169</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>product</td>
                                    <td>
                                                <code><a href="../interfaces/Product.html" target="_self" >Product</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveRobots"></a>
                    <span class="name">
                        <b>
                            resolveRobots
                        </b>
                        <a href="#resolveRobots"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resolveRobots()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="179"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:179</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Resolves the robot information for the Product Detail Page. The
robot instruction defaults to FOLLOW and INDEX for all product pages,
regardless of whether they&#39;re purchasable or not.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/Page.html" target="_self" >Observable&lt;PageRobotsMeta[]&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="resolveTitle"></a>
                    <span class="name">
                        <b>
                            resolveTitle
                        </b>
                        <a href="#resolveTitle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>resolveTitle()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="95"
                            class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:95</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Resolves the page title for the Product Detail Page. The page title
is resolved with the product name, the first category and the manufacturer.
The page title used by the browser (history, tabs) and crawlers.</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;string&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getPriority"></a>
                    <span class="name">
                        <b>
                            getPriority
                        </b>
                        <a href="#getPriority"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getPriority(page: <a href="../interfaces/Page.html">Page</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/PageMetaResolver.html" target="_self" >PageMetaResolver</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/PageMetaResolver.html#source" target="_self" >PageMetaResolver:37</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>page</td>
                                    <td>
                                                <code><a href="../interfaces/Page.html" target="_self" >Page</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getScore"></a>
                    <span class="name">
                        <b>
                            getScore
                        </b>
                        <a href="#getScore"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getScore(page: <a href="../interfaces/Page.html">Page</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/PageMetaResolver.html" target="_self" >PageMetaResolver</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/PageMetaResolver.html#source" target="_self" >PageMetaResolver:22</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the matching score for a resolver class, based on
the page type and page template.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>page</td>
                                    <td>
                                                <code><a href="../interfaces/Page.html" target="_self" >Page</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasMatch"></a>
                    <span class="name">
                        <b>
                            hasMatch
                        </b>
                        <a href="#hasMatch"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>hasMatch(page: <a href="../interfaces/Page.html">Page</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Inherited from         <code><a href="../classes/PageMetaResolver.html" target="_self" >PageMetaResolver</a></code>
</div>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <div class="io-line">Defined in         <code><a href="../classes/PageMetaResolver.html#source" target="_self" >PageMetaResolver:33</a></code>
</div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>page</td>
                                    <td>
                                                <code><a href="../interfaces/Page.html" target="_self" >Page</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="product$"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Protected</span>
                            product$</b>
                            <a href="#product$"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>this.routingService.getRouterState().pipe(
    map((state) &#x3D;&gt; state.state.params[&#x27;productCode&#x27;]),
    filter((code) &#x3D;&gt; !!code),
    switchMap((code) &#x3D;&gt; this.productService.get(code, ProductScope.DETAILS)),
    filter(Boolean)
  )</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">projects/core/src/product/services/product-page-meta.resolver.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="pageTemplate"></a>
                        <span class="name">
                            <b>
                            pageTemplate</b>
                            <a href="#pageTemplate"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Inherited from         <code><a href="../classes/PageMetaResolver.html" target="_self" >PageMetaResolver</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in         <code><a href="../classes/PageMetaResolver.html#source" target="_self" >PageMetaResolver:16</a></code>
</div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The page template is used to score the (non)matching page template </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="pageType"></a>
                        <span class="name">
                            <b>
                            pageType</b>
                            <a href="#pageType"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/Page.html" target="_self" >PageType</a></code>

                        </td>
                    </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Inherited from         <code><a href="../classes/PageMetaResolver.html" target="_self" >PageMetaResolver</a></code>
</div>
                                </td>
                            </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in         <code><a href="../classes/PageMetaResolver.html#source" target="_self" >PageMetaResolver:13</a></code>
</div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>The <code>PageType</code> is used to score the (non)matching page </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, Optional } from &#x27;@angular/core&#x27;;
import { combineLatest, Observable, of } from &#x27;rxjs&#x27;;
import { filter, map, switchMap } from &#x27;rxjs/operators&#x27;;
import { BreadcrumbMeta, PageRobotsMeta } from &#x27;../../cms/model/page.model&#x27;;
import { BasePageMetaResolver } from &#x27;../../cms/page/base-page-meta.resolver&#x27;;
import { PageMetaResolver } from &#x27;../../cms/page/page-meta.resolver&#x27;;
import {
  PageBreadcrumbResolver,
  PageDescriptionResolver,
  PageHeadingResolver,
  PageImageResolver,
  PageRobotsResolver,
  PageTitleResolver,
} from &#x27;../../cms/page/page.resolvers&#x27;;
import { TranslationService } from &#x27;../../i18n/translation.service&#x27;;
import { PageType } from &#x27;../../model/cms.model&#x27;;
import { Product } from &#x27;../../model/product.model&#x27;;
import { RoutingService } from &#x27;../../routing/facade/routing.service&#x27;;
import { ProductService } from &#x27;../facade/product.service&#x27;;
import { ProductScope } from &#x27;../model/product-scope&#x27;;

/**
 * Resolves the page data for the Product Detail Page
 * based on the &#x60;PageType.PRODUCT_PAGE&#x60;.
 *
 * The page title, heading, description, breadcrumbs and
 * first GALLERY image are resolved if available in the data.
 */
@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class ProductPageMetaResolver
  extends PageMetaResolver
  implements
    PageHeadingResolver,
    PageTitleResolver,
    PageDescriptionResolver,
    PageBreadcrumbResolver,
    PageImageResolver,
    PageRobotsResolver {
  // reusable observable for product data based on the current page
  protected product$ &#x3D; this.routingService.getRouterState().pipe(
    map((state) &#x3D;&gt; state.state.params[&#x27;productCode&#x27;]),
    filter((code) &#x3D;&gt; !!code),
    switchMap((code) &#x3D;&gt; this.productService.get(code, ProductScope.DETAILS)),
    filter(Boolean)
  );

  /**
   * @deprecated since 3.1, we&#x27;ll use the BasePageMetaResolver in future versions
   */
  // TODO(#10467): Remove deprecated constructors
  constructor(
    routingService: RoutingService,
    productService: ProductService,
    translation: TranslationService
  );
  constructor(
    routingService: RoutingService,
    productService: ProductService,
    translation: TranslationService,
    // eslint-disable-next-line @typescript-eslint/unified-signatures
    basePageMetaResolver?: BasePageMetaResolver
  );
  constructor(
    protected routingService: RoutingService,
    protected productService: ProductService,
    protected translation: TranslationService,
    @Optional() protected basePageMetaResolver?: BasePageMetaResolver
  ) {
    super();
    this.pageType &#x3D; PageType.PRODUCT_PAGE;
  }

  /**
   * Resolves the page heading for the Product Detail Page.
   * The page heading is used in the UI (&#x60;&lt;h1&gt;&#x60;), where as the page
   * title is used by the browser and crawlers.
   */
  resolveHeading(): Observable&lt;string&gt; {
    return this.product$.pipe(
      switchMap((p: Product) &#x3D;&gt;
        this.translation.translate(&#x27;pageMetaResolver.product.heading&#x27;, {
          heading: p.name,
        })
      )
    );
  }

  /**
   * Resolves the page title for the Product Detail Page. The page title
   * is resolved with the product name, the first category and the manufacturer.
   * The page title used by the browser (history, tabs) and crawlers.
   */
  resolveTitle(): Observable&lt;string&gt; {
    return this.product$.pipe(
      switchMap((p: Product) &#x3D;&gt; {
        let title &#x3D; p.name;
        title +&#x3D; this.resolveFirstCategory(p);
        title +&#x3D; this.resolveManufacturer(p);
        return this.translation.translate(&#x27;pageMetaResolver.product.title&#x27;, {
          title: title,
        });
      })
    );
  }

  /**
   * Resolves the page description for the Product Detail Page. The description
   * is based on the &#x60;product.summary&#x60;.
   */
  resolveDescription(): Observable&lt;string&gt; {
    return this.product$.pipe(
      switchMap((p: Product) &#x3D;&gt;
        this.translation.translate(&#x27;pageMetaResolver.product.description&#x27;, {
          description: p.summary,
        })
      )
    );
  }

  /**
   * Resolves breadcrumbs for the Product Detail Page. The breadcrumbs are driven by
   * a static home page crumb and a crumb for each category.
   */
  resolveBreadcrumbs(): Observable&lt;BreadcrumbMeta[]&gt; {
    return combineLatest([
      this.product$.pipe(),
      this.translation.translate(&#x27;common.home&#x27;),
    ]).pipe(
      map(([p, label]: [Product, string]) &#x3D;&gt; {
        const breadcrumbs &#x3D; [];
        breadcrumbs.push({ label: label, link: &#x27;/&#x27; });
        for (const { name, code, url } of p.categories || []) {
          breadcrumbs.push({
            label: name || code,
            link: url,
          });
        }
        return breadcrumbs;
      })
    );
  }

  /**
   * Resolves the main page image for the Product Detail Page. The product image
   * is based on the PRIMARY product image. The zoom format is used by default.
   */
  resolveImage(): Observable&lt;string&gt; {
    return this.product$.pipe(
      map((p: Product) &#x3D;&gt;
        (&lt;any&gt;p.images?.PRIMARY)?.zoom?.url
          ? (&lt;any&gt;p.images.PRIMARY).zoom.url
          : null
      )
    );
  }

  protected resolveFirstCategory(product: Product): string {
    let firstCategory;
    if (product.categories?.length &gt; 0) {
      firstCategory &#x3D; product.categories[0];
    }
    return firstCategory
      ? &#x60; | ${firstCategory.name || firstCategory.code}&#x60;
      : &#x27;&#x27;;
  }

  protected resolveManufacturer(product: Product): string {
    return product.manufacturer ? &#x60; | ${product.manufacturer}&#x60; : &#x27;&#x27;;
  }

  /**
   * Resolves the robot information for the Product Detail Page. The
   * robot instruction defaults to FOLLOW and INDEX for all product pages,
   * regardless of whether they&#x27;re purchasable or not.
   */
  // TODO(#10467): resolve robots from &#x60;BasePageMetaResolver&#x60; instead
  resolveRobots(): Observable&lt;PageRobotsMeta[]&gt; {
    return of([PageRobotsMeta.FOLLOW, PageRobotsMeta.INDEX]);
  }
}
</code></pre>
    </div>

</div>







                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ProductPageMetaResolver.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
